# 系统性能指数

<!-- TOC -->

- [系统性能指数](#系统性能指数)
  - [QPS](#qps)
  - [PV](#pv)
  - [UV](#uv)
  - [HPS/TPS/QPS](#hpstpsqps)
  - [TP99](#tp99)
  - [方法可用率](#方法可用率)
  - [方法调用次数](#方法调用次数)

<!-- /TOC -->

## QPS

- 每秒查询率
- Query Per Second

服务器在一秒的时间内处理了多少个请求

计算关系：

QPS = 并发量 / 平均响应时间

并发量 = QPS * 平均响应时间

我们通常是指 HTTP 请求，显然数字越大代表服务器的负荷越高、处理能力越强。作为参考，一个有着简单业务逻辑（包括数据库访问）的程序在单核心运行时可以提供 50 - 100 左右的 QPS，即每秒可以处理 50 - 100 个请求。

## PV

- 页面浏览量
- page vie

用户每一次对网站中的每个页面访问均被记录1次。用户对同一页面的多次刷新，访问量累计。

## UV

- 独立访客
- Unique visitor

通过客户端的cookies实现。即同一页面，客户端多次点击只计算一次，访问量不累计。这里的客户端包括PC端和移动端了，在同一天的24小时之内，访问你网站相同的“UV”客户端不管访问几次，都只能被计算一次“UV”量。这就是UV在流量统计工具中的定义了。

## HPS/TPS/QPS

- HPS（Hits Per Second） ：每秒点击次数，单位是次/秒。
- TPS（Transaction per Second）：系统每秒处理交易数，单位是笔/秒。
- QPS（Query per Second）：系统每秒处理查询次数，单位是次/秒。对于互联网业务中，如果某些业务有且仅有一个请求连接，那么TPS=QPS=HPS，一般情况下用TPS来衡量整个业务流程，用QPS来衡量接口查询次数，用HPS来表示对服务器点击请求。

## TP99

在性能测试中，我们经常会选择 TP90、TP95 或者 TP99 等水位线作为性能指标。在本文中，我们就给出一种计算 TP90、TP95 和 TP99 等水位线的方法。首先，我们先解释一下 TP90、TP95 和 TP99 的含义：

- TP90，top percent 90，即 90% 的数据都满足某一条件；
- TP95，top percent 95，即 95% 的数据都满足某一条件；
- TP99，top percent 99，即 99% 的数据都满足某一条件；

## 方法可用率

方法可用率报警配置  

报警规则: 当方法可用率连续 `1` 次小于 `100%` 则报警，并在 `1` 分钟内只报一次警

## 方法调用次数

方法调用次数报警配置

报警规则: 当连续 `1` 次，方法调用次数在 `1` *5分钟内， 大于 `3000` 次进行报警，且在 `5` 分钟内只报一次警